{# src/web3tc/EchangeBundle/Resources/views/Echange/formulaire.html.twig #}

{% extends "::base.html.twig" %}
{% block stylesheet %}
    {{ parent() }}
    <link href="{{asset('jqvmap/jqvmap/jqvmap.css')}}" media="screen" rel="stylesheet" type="text/css" />
{% endblock %}
{% block body %}

    <h2> Echange Universitaires - {{pays.nom}}</h2>
    <div class="well col-md-6" id="vmap" name="{{pays.nom}}" style="width: 500px; height: 500px;"></div>
        <div class="well col-md-offset-1 col-md-4">
                    <br/>
                    

            <form class="form-inline" method="post" action="{{ path('_voirContrat', {'departement_nom': app.session.get('departement')  } ) }}">
                <div class="center-block">
                    <select onchange="hide()" name="universite" class=" form-control">  
                        <option id="to_hide" name="choisir" value="choisir">Choisissez votre universit√©</option>
                        {% for universite in universites %}
                            <option  value="{{ universite.nom }}"> {{ universite.nom }} ({{universite.nbContratsUniversite }} contrats) </option>
                        {% endfor %}
                    </select>
                    <br/><br/>
                    <input type="submit" class="btn btn-primary" />
                </div>
            </form>
        </div>
            

  {% endblock %}

{% block javascripts %}
    {{ parent() }}
     <script type="text/javascript">
 
    jQuery(document).ready(function() {
        var vmap = jQuery('#vmap')
        var pays = vmap.attr('name'); 
        vmap.vectorMap(
            {
            map: pays,
            backgroundColor: null,
            borderColor: '#818181',
            borderOpacity: 0.25,
            borderWidth: 1,
            color: '#0B3861',
            enableZoom: true,
            hoverColor: '#DF7401',
            hoverOpacity: 0.3,
            normalizeFunction: 'polynomial',
            scaleColors: ['#C8EEFF', '#006491'],
            selectedColor: '#c9dfaf',
            selectedRegion: null,
            showTooltip: true,
             onLabelShow: function(element, code, region)
            {
                
            },
            onRegionClick: function(element, code, region)
            {
               window.location.href="../Pays/"+code.toUpperCase();
            }
        });
    });
    </script>
    <script src="{{asset('jqvmap/jqvmap/jquery.vmap.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.france.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.allemagne.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.algerie.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.bresil.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.russie.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.usa.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.argentine.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.inde.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.belgique.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.australie.js')}}" type="text/javascript"></script>
    <script src="{{asset('jqvmap/jqvmap/maps/jquery.vmap.chine.js')}}" type="text/javascript"></script>

    <script type="text/javascript">
        
        function hide()
        {
            document.getElementById('to_hide').setAttribute('hidden',true);
        }
        
    
            function getSelectedCity(){
                document.getElementById('to_hide_city').setAttribute('hidden',true);
            }
    </script>
{% endblock %}


